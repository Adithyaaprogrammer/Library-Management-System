{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-ef28df2c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"sections-page\"\n};\nconst _hoisted_2 = {\n  class: \"container-fluid mt-5\"\n};\nconst _hoisted_3 = {\n  class: \"text-center mb-4\"\n};\nconst _hoisted_4 = {\n  class: \"sections mt-5\"\n};\nconst _hoisted_5 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_6 = {\n  class: \"table table-bordered table-hover\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", {\n  class: \"thead-light\"\n}, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"ID\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Name\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Content\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Action(s)\")])], -1));\nconst _hoisted_8 = {\n  class: \"btn-group\",\n  role: \"group\"\n};\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavBar = _resolveComponent(\"NavBar\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_NavBar), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h2\", _hoisted_3, [_createTextVNode(\" Sections \"), this.islibrarian ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    class: \"btn btn-outline-primary ms-3\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.navigateToCreateSection())\n  }, \"Create New Section\")) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"table\", _hoisted_6, [_hoisted_7, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.sections, section => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: section.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(section.id), 1), _createElementVNode(\"td\", null, _toDisplayString(section.name), 1), _createElementVNode(\"td\", null, _toDisplayString(section.content), 1), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_8, [this.islibrarian ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      class: \"btn btn-outline-primary\",\n      onClick: $event => $options.navigateToUpdateSection(section.id)\n    }, \"Update\", 8, _hoisted_9)) : _createCommentVNode(\"\", true), this.islibrarian ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      class: \"btn btn-outline-danger\",\n      onClick: $event => $options.deleteSection(section.id)\n    }, \"Delete\", 8, _hoisted_10)) : _createCommentVNode(\"\", true), _createElementVNode(\"button\", {\n      class: \"btn btn-outline-secondary\",\n      onClick: $event => $options.navigateToViewSectionBooks(section.id)\n    }, \"Books\", 8, _hoisted_11)])])]);\n  }), 128))])])])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","role","_createElementBlock","_hoisted_1","_createVNode","_component_NavBar","_hoisted_2","_hoisted_3","_createTextVNode","islibrarian","key","onClick","_cache","$event","$options","navigateToCreateSection","_createCommentVNode","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_Fragment","_renderList","$data","sections","section","id","_toDisplayString","name","content","_hoisted_8","navigateToUpdateSection","_hoisted_9","deleteSection","_hoisted_10","navigateToViewSectionBooks","_hoisted_11"],"sources":["C:\\Users\\rchan\\Desktop\\uplagarize\\Code\\frontend\\src\\views\\SectionsView.vue"],"sourcesContent":["<template>\r\n  <div class=\"sections-page\">\r\n    <NavBar />\r\n    <div class=\"container-fluid mt-5\">\r\n      <h2 class=\"text-center mb-4\">\r\n        Sections \r\n        <button v-if=\"this.islibrarian\" class=\"btn btn-outline-primary ms-3\" @click=\"navigateToCreateSection()\">Create New Section</button>\r\n      </h2>\r\n      <div class=\"sections mt-5\">\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-bordered table-hover\">\r\n            <thead class=\"thead-light\">\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Name</th>\r\n                <th>Content</th>\r\n                <th>Action(s)</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"section in sections\" :key=\"section.id\">\r\n                <td>{{ section.id }}</td>\r\n                <td>{{ section.name }}</td>\r\n                <td>{{ section.content }}</td>\r\n                <td>\r\n                  <div class=\"btn-group\" role=\"group\">\r\n                    <button v-if=\"this.islibrarian\" class=\"btn btn-outline-primary\" @click=\"navigateToUpdateSection(section.id)\">Update</button>\r\n                    <button v-if=\"this.islibrarian\" class=\"btn btn-outline-danger\" @click=\"deleteSection(section.id)\">Delete</button>\r\n                    <button class=\"btn btn-outline-secondary\" @click=\"navigateToViewSectionBooks(section.id)\">Books</button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport userMixins from '../mixins/userMixin';\r\nimport NavBar from '../components/NavBar.vue';\r\n\r\nexport default {\r\n  mixins: [userMixins],\r\n  data() {\r\n    return {\r\n      sections: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchSections();\r\n  },\r\n  methods: {\r\n    async fetchSections() {\r\n      try {\r\n        const response = await this.getSections();\r\n        const data = await response.json();\r\n        this.sections = data.sections;\r\n      } catch (error) {\r\n        console.error('Error fetching sections:', error);\r\n      }\r\n    },\r\n    async getSections() {\r\n      const response = await fetch('http://127.0.0.1:5000/section', {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + localStorage.getItem('access_token'),\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error: ${response.status}`);\r\n      }\r\n\r\n      return response;\r\n    },\r\n    navigateToUpdateSection(sectionId) {\r\n      this.$router.push({ name: 'update-section', params: { id: sectionId } });\r\n    },\r\n    navigateToCreateSection() {\r\n      this.$router.push(\"/create-section\");\r\n    },\r\n    navigateToViewSectionBooks(sectionId) {\r\n      this.$router.push({ name: 'view-section-books', params: { id: sectionId } });\r\n    },\r\n    async deleteSection(sectionId) {\r\n      try {\r\n        await this.performDeleteSection(sectionId);\r\n        console.log(`Section with ID ${sectionId} deleted successfully`);\r\n        this.fetchSections();\r\n      } catch (error) {\r\n        console.error(`Error deleting section with ID ${sectionId}:`, error);\r\n      }\r\n    },\r\n    async performDeleteSection(sectionId) {\r\n      const response = await fetch(`http://127.0.0.1:5000/section/${sectionId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': 'Bearer ' + localStorage.getItem('access_token'),\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! Status: ${response.status}`);\r\n      }\r\n\r\n      return response;\r\n    },\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.sections-page {\r\n  font-family: 'Roboto', sans-serif;\r\n  background-color: #f7fafc;\r\n  min-height: 100vh;\r\n  padding: 2rem;\r\n}\r\n\r\nh2 {\r\n  font-size: 1.75rem;\r\n  color: #2d3748;\r\n  font-weight: 700;\r\n}\r\n\r\n.table {\r\n  border-radius: 8px;\r\n  background: #ffffff;\r\n}\r\n\r\n.table-bordered {\r\n  border: 1px solid #dee2e6;\r\n}\r\n\r\n.table thead {\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.table th {\r\n  font-weight: 600;\r\n}\r\n\r\n.table td {\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.table-responsive {\r\n  width: 100%;\r\n}\r\n\r\n.btn-group .btn {\r\n  margin-right: 0.5rem;\r\n}\r\n\r\n.btn-outline-primary {\r\n  border-color: #3182ce;\r\n  color: #3182ce;\r\n}\r\n\r\n.btn-outline-primary:hover {\r\n  background-color: #3182ce;\r\n  color: #ffffff;\r\n}\r\n\r\n.btn-outline-danger {\r\n  border-color: #e53e3e;\r\n  color: #e53e3e;\r\n}\r\n\r\n.btn-outline-danger:hover {\r\n  background-color: #e53e3e;\r\n  color: #ffffff;\r\n}\r\n\r\n.btn-outline-secondary {\r\n  border-color: #d4d4d4;\r\n  color: #6b7280;\r\n}\r\n\r\n.btn-outline-secondary:hover {\r\n  background-color: green;\r\n  color: #000000;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .table td, .table th {\r\n    font-size: 0.75rem;\r\n  }\r\n  \r\n  .btn-group .btn {\r\n    margin-bottom: 0.5rem;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAe;;EAEnBA,KAAK,EAAC;AAAsB;;EAC3BA,KAAK,EAAC;AAAkB;;EAIvBA,KAAK,EAAC;AAAe;;EACnBA,KAAK,EAAC;AAAkB;;EACpBA,KAAK,EAAC;AAAkC;gEAC7CC,mBAAA,CAOQ;EAPDD,KAAK,EAAC;AAAa,I,aACxBC,mBAAA,CAKK,a,aAJHA,mBAAA,CAAW,YAAP,IAAE,G,aACNA,mBAAA,CAAa,YAAT,MAAI,G,aACRA,mBAAA,CAAgB,YAAZ,SAAO,G,aACXA,mBAAA,CAAkB,YAAd,WAAS,E;;EASND,KAAK,EAAC,WAAW;EAACE,IAAI,EAAC;;mBAzB9C;oBAAA;oBAAA;;;uBACEC,mBAAA,CAoCM,OApCNC,UAoCM,GAnCJC,YAAA,CAAUC,iBAAA,GACVL,mBAAA,CAiCM,OAjCNM,UAiCM,GAhCJN,mBAAA,CAGK,MAHLO,UAGK,GAPXC,gBAAA,CAImC,YAE3B,G,KAAmBC,WAAW,I,cAA9BP,mBAAA,CAAmI;IAN3IQ,GAAA;IAMwCX,KAAK,EAAC,8BAA8B;IAAEY,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,uBAAuB;KAAI,oBAAkB,KANlIC,mBAAA,W,GAQMhB,mBAAA,CA2BM,OA3BNiB,UA2BM,GA1BJjB,mBAAA,CAyBM,OAzBNkB,UAyBM,GAxBJlB,mBAAA,CAuBQ,SAvBRmB,UAuBQ,GAtBNC,UAOQ,EACRpB,mBAAA,CAaQ,iB,kBAZNE,mBAAA,CAWKmB,SAAA,QA/BnBC,WAAA,CAoBoCC,KAAA,CAAAC,QAAQ,EAAnBC,OAAO;yBAAlBvB,mBAAA,CAWK;MAX4BQ,GAAG,EAAEe,OAAO,CAACC;QAC5C1B,mBAAA,CAAyB,YAAA2B,gBAAA,CAAlBF,OAAO,CAACC,EAAE,OACjB1B,mBAAA,CAA2B,YAAA2B,gBAAA,CAApBF,OAAO,CAACG,IAAI,OACnB5B,mBAAA,CAA8B,YAAA2B,gBAAA,CAAvBF,OAAO,CAACI,OAAO,OACtB7B,mBAAA,CAMK,aALHA,mBAAA,CAIM,OAJN8B,UAIM,G,KAHerB,WAAW,I,cAA9BP,mBAAA,CAA4H;MA1BhJQ,GAAA;MA0BoDX,KAAK,EAAC,yBAAyB;MAAEY,OAAK,EAAAE,MAAA,IAAEC,QAAA,CAAAiB,uBAAuB,CAACN,OAAO,CAACC,EAAE;OAAG,QAAM,KA1BvIM,UAAA,KAAAhB,mBAAA,Y,KA2BuCP,WAAW,I,cAA9BP,mBAAA,CAAiH;MA3BrIQ,GAAA;MA2BoDX,KAAK,EAAC,wBAAwB;MAAEY,OAAK,EAAAE,MAAA,IAAEC,QAAA,CAAAmB,aAAa,CAACR,OAAO,CAACC,EAAE;OAAG,QAAM,KA3B5HQ,WAAA,KAAAlB,mBAAA,YA4BoBhB,mBAAA,CAAwG;MAAhGD,KAAK,EAAC,2BAA2B;MAAEY,OAAK,EAAAE,MAAA,IAAEC,QAAA,CAAAqB,0BAA0B,CAACV,OAAO,CAACC,EAAE;OAAG,OAAK,KA5BnHU,WAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}